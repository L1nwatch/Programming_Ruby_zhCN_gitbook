### 5.1 数字

Ruby 支持整数和浮点数。整数可以是任何长度（其最大值取决于系统可用内存的大小）。一定范围内的整数（通常是 `-2^30 ~ 2^30 - 1` 或 `-2^62 ~ 2^62 - 1` 在内部以二进制形式存储，它们是 Fixnum 类的对象。这个范围之外的整数存储在 `Bignum` 类的对象中（目前实现为一个可变长度的短整型集合）。这个处理是透明的，Ruby 会自动管理它们之间的来回转换。

可通过 `num.class` 来查看

在书写整数时，可以使用一个可选的前导符号，可选的进制指示符（0 表示八进制，0d 表示十进制【默认】，0x 表示十六进制，0b 表示二进制），后面跟一串符合适当进制的数字。下画线在数字串中被忽略（一些人使用它们来代替逗号）

```ruby
0d123456	# =>	123456
123_456		# =>	123456
0xaabb		# =>	43707
0377		# =>	255
-0b10_1010	# =>	-42
```

控制字符的整数值可以使用 `?\C-x` 和 `?\cx`（x 的 control 版本（Ctrl + X 的值），是 `x & 0x9f`）生成。元字符（`x | 0x80`）可以使用 `?\M-x` 生成（Alt 键）。元字符和控制字符的组合可以使用 `?\M-\C-x` 生成。可以使用 `?\\` 序列得到反斜线字符的整数值。

```ruby
?a			# =>	97	# ASCII character
?\n			# =>	10	# code for a newline(0x0a)
?\C-a		# =>	1	# control a = ?A & 0x9f = 0x01
?\M-a		# =>	225	# meta sets bit 7
?\M-\C-a	# =>	129	# meta and control a
?\C-?		# =>	127 # delete character
```

与原生体系结构的 double 数据类型相对应，带有小数点和`/`或幂的数字字面量被转换成浮点对象。你必须在小数点之前和之后都给出数字（如果把 `1.0e3` 写成 `1.e3`，Ruby 会试图调用 `Fixnum` 类的 e3 方法）。

所有数字都是对象，并且可以对各种形式的消息作出响应。

整数也支持几种有用的迭代器，比如 `times`、`upto`、`downto`，它们在两个整数之间分别向上和向下迭代。另外 Numeric 类提供了更通用的 step 方法，它更像传统的 for 循环。

```ruby
3.times	{ print "X "}				# =>	X X X
1.upto(5)	{|i| print i, " "}		# =>	1 2 3 4 5
99.downto(95) {|i| print i, " "}	# =>	99 98 97 96 95
50.step(80, 5) {|i| print i, " "}	# =>	50 55 60 65 70 75 80
```

那些只包含数字的字符串，当在表达式中使用时，不会被自动转换成数字：

```ruby
some_file.each do | line |
  v1, v2 = line.split
  print Integer(v1) + Integer(v2), " "
end
```

### 5.2 字符串

